<form [formGroup]="createTaskForm" (ngSubmit)="handleSubmit()">
  <app-button id="button-cancel" text="X" (clicked)="cancelForm()" [classList]="['button-cancel']"></app-button>

  <app-input
    id="title"
    label="Title"
    formControlName="title"
  ></app-input>
  @if (isSubmitted || title?.touched) {
    @if (title?.errors?.['required']) {
      <p class="error-text">Title is required.</p>
    }
  }

  <app-input
    id="description"
    label="Description"
    formControlName="description"
  ></app-input>
  @if (isSubmitted || description?.touched) {
    @if (description?.errors?.['required']) {
      <p class="error-text">Description is required.</p>
    }
  }

  <app-input-number
    id="priority"
    label="Priority"
    type="number"
    formControlName="priority"
  ></app-input-number>
  @if (isSubmitted || priority?.touched) {
    @if (priority?.errors?.['invalidPriority']) {
      <p class="error-text">Priority needs to be between 1 and 10 if set.</p>
    }
  }

  <app-input-date
    id="due-date"
    label="Due Date"
    formControlName="dueDate"
    [min]="dueDateMin"
  ></app-input-date>
  @if (isSubmitted || dueDate?.touched) {
    @if (dueDate?.errors?.['invalidDueDate']) {
      <p class="error-text">Due date can't be eariler than today if set.</p>
    }
  }

  <app-button type="submit" text="Create" [classList]="['width-100']"></app-button>
</form>
